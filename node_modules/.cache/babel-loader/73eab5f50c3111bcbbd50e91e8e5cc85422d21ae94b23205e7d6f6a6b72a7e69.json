{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\satoshi_khd\\\\Desktop\\\\tmdb-app-router\\\\src\\\\components\\\\pages\\\\Movies\\\\Movies.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, useSearchParams, useParams } from \"react-router-dom\";\nimport { service } from \"../../../api/service\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport Rating from \"../../Rating/Rating\";\nimport Image from \"../../Image/Image\";\nimport Genres from \"../../Genres/Genres\";\nimport PostersTemplate from \"../../PostersTemplate/PostersTemplate\";\nimport Pagination from \"../../Pagination/Pagination\";\nimport styles from \"./Movies.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Movies = () => {\n  _s();\n  const [moviesData, setMoviesData] = useState([]);\n  const [totalResults, setTotalResults] = useState(0);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  let totalPages;\n  const navigate = useNavigate();\n  // const { page } = useParams();\n\n  useEffect(() => {\n    service(`https://api.themoviedb.org/3/movie/popular?language=${t(\"api-code\")}&page=${searchParams.get(\"page\") ? searchParams.get(\"page\") : 1}`, \"GET\").then(({\n      data\n    }) => {\n      console.log(data);\n      setMoviesData(data.results); //data.results equal to 20, then content per page will be 20;\n      setTotalResults(data.total_results);\n      totalPages = data.total_pages;\n    });\n  }, [i18n.language, page, navigate]);\n  const handleBackPage = () => {\n    if (searchParams.get(\"page\") > 1) setSearchParams({\n      page: searchParams.get(\"page\") - 1\n    });\n  };\n  const handleNextPage = () => {\n    navigate(`/page/${~~page + 1}`);\n  };\n  // if (currPage < totalPages) setCurrPage(currPage + 1);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.moviesContainer,\n      children: moviesData.map(movies => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.movies,\n        children: /*#__PURE__*/_jsxDEV(PostersTemplate, {\n          postersData: movies,\n          type: \"moviePosters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, movies.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), totalResults > moviesData.length ? /*#__PURE__*/_jsxDEV(Pagination, {\n      handleBackPage: handleBackPage,\n      handleNextPage: handleNextPage,\n      page: ~~page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true);\n};\n_s(Movies, \"0xzyQlzsZVriKhIuap7oZD+XOjc=\", false, function () {\n  return [useSearchParams, useTranslation, useNavigate];\n});\n_c = Movies;\nexport default Movies;\nvar _c;\n$RefreshReg$(_c, \"Movies\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","useSearchParams","useParams","service","Link","useTranslation","Rating","Image","Genres","PostersTemplate","Pagination","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","Movies","_s","moviesData","setMoviesData","totalResults","setTotalResults","searchParams","setSearchParams","t","i18n","totalPages","navigate","get","then","data","console","log","results","total_results","total_pages","language","page","handleBackPage","handleNextPage","children","className","moviesContainer","map","movies","postersData","type","fileName","_jsxFileName","lineNumber","columnNumber","id","length","_c","$RefreshReg$"],"sources":["C:/Users/satoshi_khd/Desktop/tmdb-app-router/src/components/pages/Movies/Movies.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, useSearchParams, useParams } from \"react-router-dom\";\nimport { service } from \"../../../api/service\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport Rating from \"../../Rating/Rating\";\nimport Image from \"../../Image/Image\";\nimport Genres from \"../../Genres/Genres\";\nimport PostersTemplate from \"../../PostersTemplate/PostersTemplate\";\nimport Pagination from \"../../Pagination/Pagination\";\nimport styles from \"./Movies.module.css\";\n\nconst Movies = () => {\n  const [moviesData, setMoviesData] = useState([]);\n  const [totalResults, setTotalResults] = useState(0);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const { t, i18n } = useTranslation();\n  let totalPages;\n  const navigate = useNavigate();\n  // const { page } = useParams();\n\n  useEffect(() => {\n    service(\n      `https://api.themoviedb.org/3/movie/popular?language=${t(\n        \"api-code\"\n      )}&page=${searchParams.get(\"page\") ? searchParams.get(\"page\") : 1}`,\n      \"GET\"\n    ).then(({ data }) => {\n      console.log(data);\n      setMoviesData(data.results); //data.results equal to 20, then content per page will be 20;\n      setTotalResults(data.total_results);\n      totalPages = data.total_pages;\n    });\n  }, [i18n.language, page, navigate]);\n\n  const handleBackPage = () => {\n    if (searchParams.get(\"page\") > 1)\n      setSearchParams({ page: searchParams.get(\"page\") - 1 });\n  };\n\n  const handleNextPage = () => {\n    navigate(`/page/${~~page + 1}`);\n  };\n  // if (currPage < totalPages) setCurrPage(currPage + 1);\n\n  return (\n    <>\n      <div className={styles.moviesContainer}>\n        {moviesData.map((movies) => (\n          <div className={styles.movies} key={movies.id}>\n            <PostersTemplate postersData={movies} type={\"moviePosters\"} />\n          </div>\n        ))}\n      </div>\n      {totalResults > moviesData.length ? (\n        <Pagination\n          handleBackPage={handleBackPage}\n          handleNextPage={handleNextPage}\n          page={~~page}\n        />\n      ) : null}\n    </>\n  );\n};\nexport default Movies;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}