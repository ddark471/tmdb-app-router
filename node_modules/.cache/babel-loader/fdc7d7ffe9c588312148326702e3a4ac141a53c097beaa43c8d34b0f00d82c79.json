{"ast":null,"code":"import _slicedToArray from\"C:/Users/satoshi_khd/Desktop/tmdb-app-router/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from\"react\";import{useNavigate,useSearchParams}from\"react-router-dom\";import{service}from\"../../api/service\";import{Link}from'react-router-dom';import{useTranslation}from'react-i18next';import{hasDataChecker}from'../../utils/hasDataChecker';import Rating from'../Rating/Rating';import Image from\"../Image/Image\";import Genres from'../Genres/Genres';import PostersTemplate from'../PostersTemplate/PostersTemplate';import Pagination from'../Pagination/Pagination';import styles from'./Movies.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Movies=function Movies(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),moviesData=_useState2[0],setMoviesData=_useState2[1];var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currPage=_useState4[0],setCurrPage=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalPages=_useState6[0],setTotalPages=_useState6[1];var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var navigate=useNavigate();useEffect(function(){service(\"https://api.themoviedb.org/3/movie/popular?language=\".concat(t('api-code'),\"&page=\").concat(currPage),\"GET\").then(function(elem){setMoviesData(elem.data.results);setTotalPages(elem.data.total_pages);});navigate(\"/?page=\".concat(currPage),{replace:true});},[i18n.language,currPage,navigate]);var handleBackPage=function handleBackPage(){if(currPage>1){setCurrPage(currPage-1);}};var handleNextPage=function handleNextPage(){if(currPage<totalPages){setCurrPage(currPage+1);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.moviesContainer,children:moviesData.map(function(movies){return/*#__PURE__*/_jsx(\"div\",{className:styles.movies,children:/*#__PURE__*/_jsx(PostersTemplate,{postersData:movies,type:'moviePosters'})},movies.id);})}),/*#__PURE__*/_jsx(Pagination,{handleBackPage:handleBackPage,handleNextPage:handleNextPage,currPage:currPage,totalPages:totalPages})]});};export default Movies;","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","useSearchParams","service","Link","useTranslation","hasDataChecker","Rating","Image","Genres","PostersTemplate","Pagination","styles","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Movies","_useState","_useState2","_slicedToArray","moviesData","setMoviesData","_useSearchParams","_useSearchParams2","searchParams","_useState3","_useState4","currPage","setCurrPage","_useState5","_useState6","totalPages","setTotalPages","_useTranslation","t","i18n","navigate","concat","then","elem","data","results","total_pages","replace","language","handleBackPage","handleNextPage","children","className","moviesContainer","map","movies","postersData","type","id"],"sources":["C:/Users/satoshi_khd/Desktop/tmdb-app-router/src/Components/Movies/Movies.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { service } from \"../../api/service\";\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { hasDataChecker } from '../../utils/hasDataChecker'\nimport Rating from '../Rating/Rating'\nimport Image from \"../Image/Image\";\nimport Genres from '../Genres/Genres';\nimport PostersTemplate from '../PostersTemplate/PostersTemplate';\nimport Pagination from '../Pagination/Pagination'\nimport styles from './Movies.module.css';\n\nconst Movies = () => {\n    const [moviesData, setMoviesData] = useState([]);\n    const [searchParams] = useSearchParams();\n    const [currPage, setCurrPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(0);\n    const { t, i18n } = useTranslation();\n    const navigate = useNavigate();\n    \n\n    useEffect(() => {\n        service(`https://api.themoviedb.org/3/movie/popular?language=${t('api-code')}&page=${currPage}`,\"GET\").then((elem) => {\n          setMoviesData(elem.data.results);\n          setTotalPages(elem.data.total_pages);\n        });\n        navigate(`/?page=${currPage}` ,{replace: true}) \n      }, [ i18n.language, currPage , navigate])\n\n      const handleBackPage = () => {\n        if (currPage > 1) {\n          setCurrPage(currPage - 1);\n        }\n      }\n\n      const handleNextPage = () => {\n        if (currPage < totalPages) {\n          setCurrPage(currPage + 1);\n        }\n      }\n\n      return (\n        <>\n          <div className={styles.moviesContainer}>\n              {moviesData.map((movies) => <div className={styles.movies} key={movies.id}>\n                          <PostersTemplate postersData={movies} type={'moviePosters'}/>\n                    </div>)}\n          </div>\n\n          <Pagination handleBackPage={handleBackPage} handleNextPage={handleNextPage} currPage={currPage} totalPages={totalPages}/>\n        </>\n    )\n}\n\nexport default Movies;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}